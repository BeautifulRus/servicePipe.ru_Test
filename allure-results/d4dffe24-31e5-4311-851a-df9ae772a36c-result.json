{"name": "test_navigation_endScroll[1024x768-chromium]", "status": "failed", "statusDetails": {"message": "AssertionError: Expected URL: https://navigator.sk.ru/orn/1124299?roistat_visit=268044, but got: https://navigator.sk.ru/orn/1124299?roistat_visit=269557\nassert False\n +  where False = <built-in method endswith of str object at 0x00000269E76F2EA0>('https://navigator.sk.ru/orn/1124299?roistat_visit=268044')\n +    where <built-in method endswith of str object at 0x00000269E76F2EA0> = 'https://navigator.sk.ru/orn/1124299?roistat_visit=269557'.endswith", "trace": "browser_name = 'chromium', resolution = '1024x768'\n\n    @pytest.mark.parametrize(\"browser_name\", [\"chromium\", \"firefox\"])\n    @pytest.mark.parametrize(\"resolution\", [\"1024x768\"])\n    @pytest.mark.flaky #Поскольку, как я заметил, локаторы radix временами изменяются(??), и тест падает\n    @pytest.mark.gui\n    @pytest.mark.positive\n    def test_navigation_endScroll(browser_name, resolution):\n        with sync_playwright() as p:\n            browser = p[browser_name].launch(headless=False)\n            context = browser.new_context(viewport={\"width\": 1024, \"height\": 768})\n            page = context.new_page()\n    \n            with allure.step(\"Шаг 1: Открыть сайт\"):\n                page.goto(\"https://servicepipe.ru/\")\n    \n            # Создаем словарь с ожидаемыми ссылками\n            expected_links = {\n                \"Все ссылки внизу страницы\": {\n    \n                    #Решения\n                    \"/web\": '//*[@id=\"footer\"]/div/div/div[1]/div[2]/div/div[1]/div/div[1]/a[1]',\n                    \"/network\": '//*[@id=\"footer\"]/div/div/div[1]/div[2]/div/div[1]/div/div[1]/a[2]',\n                    \"/audit\": '//*[@id=\"footer\"]/div/div/div[1]/div[2]/div/div[1]/div/div[1]/a[3]',\n                    \"/finance\": '//*[@id=\"footer\"]/div/div/div[1]/div[2]/div/div[1]/div/div[1]/a[4]',\n                    \"/retail\": '//*[@id=\"footer\"]/div/div/div[1]/div[2]/div/div[1]/div/div[1]/a[5]',\n                    \"/marketing\": '//*[@id=\"footer\"]/div/div/div[1]/div[2]/div/div[1]/div/div[1]/a[6]',\n    \n                    #Технологии\n                    \"/flowcollector\": '//*[@id=\"footer\"]/div/div/div[1]/div[2]/div/div[1]/div/div[2]/a[1]',\n                    \"/dosgate\": '//*[@id=\"footer\"]/div/div/div[1]/div[2]/div/div[1]/div/div[2]/a[2]',\n                    \"/cybert\": '//*[@id=\"footer\"]/div/div/div[1]/div[2]/div/div[1]/div/div[2]/a[3]',\n    \n                    #Продукты\n                    \"/web/ddos-protection\": '//*[@id=\"footer\"]/div/div/div[1]/div[2]/div/div[2]/div/div[1]/a[1]',\n                    \"/web/bot-protection\": '//*[@id=\"footer\"]/div/div/div[1]/div[2]/div/div[2]/div/div[1]/a[2]',\n                    \"/web/bot-checks\": '//*[@id=\"footer\"]/div/div/div[1]/div[2]/div/div[2]/div/div[1]/a[3]',\n                    \"/web/waf\": '//*[@id=\"footer\"]/div/div/div[1]/div[2]/div/div[2]/div/div[1]/a[4]',\n                    \"/network/ip-transit\": '//*[@id=\"footer\"]/div/div/div[1]/div[2]/div/div[2]/div/div[1]/a[5]',\n                    \"/network/cloud-firewall\": '//*[@id=\"footer\"]/div/div/div[1]/div[2]/div/div[2]/div/div[1]/a[6]',\n                    \"/network/slave-dns\": '//*[@id=\"footer\"]/div/div/div[1]/div[2]/div/div[2]/div/div[1]/a[7]',\n                    \"/audit/stress-test\": '//*[@id=\"footer\"]/div/div/div[1]/div[2]/div/div[2]/div/div[1]/a[8]',\n    \n                    #О компании\n                    \"/about\": '//*[@id=\"footer\"]/div/div/div[1]/div[2]/div/div[2]/div/div[2]/a[1]',\n                    \"/career\": '//*[@id=\"footer\"]/div/div/div[1]/div[2]/div/div[2]/div/div[2]/a[2]',\n                    \"/contacts\": '//*[@id=\"footer\"]/div/div/div[1]/div[2]/div/div[2]/div/div[2]/a[3]',\n                    \"/press-center\": '//*[@id=\"footer\"]/div/div/div[1]/div[2]/div/div[2]/div/div[2]/a[4]',\n                    \"/why-servicepipe\": '//*[@id=\"footer\"]/div/div/div[1]/div[2]/div/div[2]/div/div[2]/a[5]',\n                    \"/partners\": '//*[@id=\"footer\"]/div/div/div[1]/div[2]/div/div[2]/div/div[2]/a[6]',\n    \n                    #Оставшиеся ссылки\n                    \"\": '//*[@id=\"footer\"]/div/div/div[1]/div[1]/div[1]/div/div[1]/a', #лого компании\n                    \"https://navigator.sk.ru/orn/1124299?roistat_visit=268044\": '//*[@id=\"footer\"]/div/div/div[1]/div[1]/div[1]/div/div[2]/a', #лого SkУчастник\n                    \"tel:+74996817548\": '//*[@id=\"footer\"]/div/div/div[1]/div[1]/div[4]/div[1]/a', #телефон\n                    \"mailto:welcome@servicepipe.ru\": '//*[@id=\"footer\"]/div/div/div[1]/div[1]/div[4]/div[2]/a', #почта\n                    \"https://vk.com/official_servicepipe?roistat_visit=268044\": '//*[@id=\"footer\"]/div/div/div[1]/div[1]/div[4]/div[2]/div/a[1]', #вк\n                    \"https://t.me/official_servicepipe?roistat_visit=268044\": '//*[@id=\"footer\"]/div/div/div[1]/div[1]/div[4]/div[2]/div/a[2]', #тг\n                    \"https://servicepipe.ru/uploads/SP_Personal_data_processing_policy_38a7b37f69.pdf\": '//*[@id=\"footer\"]/div/div/div[2]/div[2]/div/a', #Политика конфиденциальности\n                    # часть после \"=\" изменяется каждый раз. пока не знаю простого решения \"https://lvmd.ru/?roistat_visit=268044\": '//*[@id=\"footer\"]/div/div/div[2]/div[3]/div/a', #Дизайн сайта — lovemedo\n    \n                }\n            }\n    \n            # Проверяем ссылки\n            with allure.step(\"Шаг: Проверить все ссылки внизу страницы на корректность\"):\n                for name, selector in expected_links[\"Все ссылки внизу страницы\"].items():\n                    link = page.query_selector(selector)\n                    if link:\n                        url = link.get_attribute(\"href\")\n                        expected_url = name\n>                       assert url.endswith(expected_url), f'Expected URL: {expected_url}, but got: {url}'\nE                       AssertionError: Expected URL: https://navigator.sk.ru/orn/1124299?roistat_visit=268044, but got: https://navigator.sk.ru/orn/1124299?roistat_visit=269557\nE                       assert False\nE                        +  where False = <built-in method endswith of str object at 0x00000269E76F2EA0>('https://navigator.sk.ru/orn/1124299?roistat_visit=268044')\nE                        +    where <built-in method endswith of str object at 0x00000269E76F2EA0> = 'https://navigator.sk.ru/orn/1124299?roistat_visit=269557'.endswith\n\ntests\\test_navigation.py:223: AssertionError"}, "steps": [{"name": "Шаг 1: Открыть сайт", "status": "passed", "start": 1726443439984, "stop": 1726443444547}, {"name": "Шаг: Проверить все ссылки внизу страницы на корректность", "status": "failed", "statusDetails": {"message": "AssertionError: Expected URL: https://navigator.sk.ru/orn/1124299?roistat_visit=268044, but got: https://navigator.sk.ru/orn/1124299?roistat_visit=269557\nassert False\n +  where False = <built-in method endswith of str object at 0x00000269E76F2EA0>('https://navigator.sk.ru/orn/1124299?roistat_visit=268044')\n +    where <built-in method endswith of str object at 0x00000269E76F2EA0> = 'https://navigator.sk.ru/orn/1124299?roistat_visit=269557'.endswith\n", "trace": "  File \"C:\\Users\\blues\\PycharmProjects\\servicePipe.ru_Test\\tests\\test_navigation.py\", line 223, in test_navigation_endScroll\n    assert url.endswith(expected_url), f'Expected URL: {expected_url}, but got: {url}'\n"}, "start": 1726443444547, "stop": 1726443445126}], "parameters": [{"name": "resolution", "value": "'1024x768'"}, {"name": "browser_name", "value": "'chromium'"}], "start": 1726443439231, "stop": 1726443445382, "uuid": "78defb39-cafb-4359-a664-e6664776c48a", "historyId": "f563095caa05fe058664ca87cd9411c2", "testCaseId": "94b892bd61e7f2100ce4bc538d4d6e39", "fullName": "tests.test_navigation#test_navigation_endScroll", "labels": [{"name": "tag", "value": "positive"}, {"name": "tag", "value": "gui"}, {"name": "tag", "value": "flaky"}, {"name": "parentSuite", "value": "tests"}, {"name": "suite", "value": "test_navigation"}, {"name": "host", "value": "What-are-you-doing-here"}, {"name": "thread", "value": "7532-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.test_navigation"}]}